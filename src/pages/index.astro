---
import PageLayout from "@/layouts/Base";
import BlogPostPreview from "@/components/BlogPostPreview.astro";
import SocialList from "@/components/SocialList.astro";

let title = "Asto Cactus";
let description = "The perfect starter for your perfect blog.";

let allPosts = (await Astro.glob("./posts/*.md")) || [];
allPosts = allPosts.sort(
	(a, b) =>
		new Date(b.frontmatter.publishDate).valueOf() -
		new Date(a.frontmatter.publishDate).valueOf()
);
---

<PageLayout {title} {description}>
	<section>
		<h1 class="mb-6 text-2xl font-bold text-accent-2">Hello World!</h1>
		<p class="mb-4">
			Hi, Iâ€™m a theme for Astro, an example of how you can use this starter to
			create a personal blog. If you want to know more about how you can
			customise me, add more posts, and make it your own, click on one of the
			social links which will take you to my repo.
		</p>
		<SocialList />
	</section>
	<section aria-label="Blog post list" class="mt-16">
		<h2 class="mb-4 text-xl font-bold text-accent-2">Writings</h2>
		<ul class="space-y-2">
			{allPosts.map((p) => (
				<li class="[&>h2]:grid [&>h2]:grid-cols-[130px_max-content] [&>h2]:justify-items-start [&>h2]:gap-2">
					<BlogPostPreview post={p} as="h2" />
				</li>
			))}
		</ul>
	</section>
	<section class="mt-16">
		<h2 class="mb-4 text-xl font-bold text-accent-2">Technologies</h2>
		<ul>
			<li>
				<a
					href="https://astro.build"
					target="_blank"
					rel="noopener noreferrer"
					class="inline-block cactus-link"
					>Astro
				</a>:
				<p class="inline-block my-2">Build fast websites, faster.</p>
			</li>
			<li>
				<a
					href="https://www.solidjs.com/"
					target="_blank"
					rel="noopener noreferrer"
					class="inline-block cactus-link"
					>SolidJS
				</a>:
				<p class="inline-block my-2">
					Simple and performant reactivity for building user interfaces.
				</p>
			</li>
			<li>
				<a
					href="https://tailwindcss.com "
					target="_blank"
					rel="noopener noreferrer"
					class="inline-block cactus-link"
					>Tailwind CSS
				</a>:
				<p class="inline-block my-2">
					Rapidly build modern websites without ever leaving your HTML
				</p>
			</li>
		</ul>
	</section>
</PageLayout>
