---
import PageLayout from '@/layouts/Base';
import BlogPostPreview from '@/components/BlogPostPreview'

let allPosts = await Astro.glob('./*.md');
allPosts = allPosts.sort((a, b) => new Date(b.frontmatter.publishDate).valueOf() - new Date(a.frontmatter.publishDate).valueOf());
---

<PageLayout title="Posts" description="Astro Cactus posts page">
  <h1 class="text-2xl font-semibold">Writings</h1>
  <section aria-label="Blog post list" class="mt-6 space-y-8">
		{allPosts.map((p) => <BlogPostPreview post={p} withDesc />)}
	</section>
</PageLayout>